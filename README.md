# Сравнение различных стратегий выборки в рендеринге трассировкой путей

Проект направлен на исследование влияния выбора генерации случайных чисел на качество изображений, срендеренных с помощью алгоритма Path Tracing. Работа была выполнена в рамках курсовой работы студентами 2 и 3 курса факультета Информатики, математики и компьютерных наук НИУ ВШЭ Нижний Новгород. 

В ходе курсовой работы были исследованы различные методы генерации случайных чисел, а также реализованы 5 методов их генерации (Standard Sampler, Halton Sampler, Halton RandomDigit Sampler, Halton Owen Sampler, Blue Noise Sampler).

Для тестирования и отсмотра результатов использовались проекты из этого репозитория, написанные на языках C++ и Python.


## Оглавление

1. [MyProject](#MyProject)
   - [Описание](#Описание)
   - [Рендеринг изображений](#Рендеринг-изображений)
   - [Запуск MyProject](#Запуск-MyProject)
2. [TestRandom](#TestRandom)
3. [MakeScatterForPixel](#MakeScatterForPixel)
4. [Coursework.pdf](#Coursework.pdf)
5. [Presentation.pdf](#Presentation.pdf)

---

## MyProject

<p align="center">
  <img src="https://github.com/Kaparya/PathTracing/assets/124422354/d0c8a427-6dd8-4031-b294-4a3507e767ed">
</p>


### Описание 

Это основная часть работы - 3D engine для рендеринга 3D сцен. Был реализован в ходе исследования работы алгоритмов рендеринга.

В движке были имплементированы реализации выбранных алгоритмов генерации случайных чисел:

- Standard Sampler
- Halton Sampler
- Halton RandomDigit Sampler
- Haltom Owen Sampler
- Blue Noise Sampler

Все реализации можно найти в папке [src/Random](https://github.com/Kaparya/PathTracing/tree/main/MyProject/src/Random)

### Рендеринг изображений

Данный проект может рендерить сцены заданные файлами .obj / .mtl. Для примера загружены 6 сцен В папке [Assets](https://github.com/Kaparya/PathTracing/tree/main/MyProject/Assets).

Результаты работы попадают в папку Results/текущий_метод_генарации/. Название результирующего файла, для примера: ``` cornell_box_original_128_8_BlueNoise[84.836seconds].png ```. То есть была срендерена сцена Cornell Box Original со 128 лучами через каждый пиксель и максимальной глубиной 7, движок отработал за 84.836 секунды.

Также, в папке Results/ находятся результаты рендеринга изображений, полученных в ходе написания данного 3D движка.

### Запуск MyProject

Код данного проекта может быть запущен локально и результирующие изображения попадут в папку Results.

---

#### CLion

Наиболее предпочтительным является запуска из CLion. Для этого необходимо:

1. Заходим в папку, в которую хотим склонировать проект
2. Клонируем проект по https

```
git clone https://github.com/Kaparya/PathTracing.git
```
   
3. Открываем в CLion папку MyProject/
4. Убеждаемся, что в файле src/UsefulThings.h расскоментирова нужная строчка с переменной PROJECT_PATH (в случае чего, необходимо расскоментировать 26 строку и закомментировать строку 29)
5. Желательно добавить CMAKE профиль Release
6. Запускаем наш проект и следуем инструкциям
7. Получаем результат в папке Results/ВыбранныйМетодГенарации/

---

#### Terminal (может быть зависимо от операционной системы, тестировалсь на MacOS)

Вторым способом запуска является запуск через terminal (коммандную строку).

1. Аналогично заходим в папку, в которую хотим склонировать проект и клонируем его

```
git clone https://github.com/Kaparya/PathTracing.git
```
2. Убеждаемся, что в файле MyProject/src/UsefulThings.h прописываем нужный путь в переменную PROJECT_PATH. Закомментируем строку 26 и расскоментируем строку 29. Действуем по инструкции в комментарии выше:

```C++
// If you ran with .exe file, then choose this path
const std::string PROJECT_PATH = std::string(std::filesystem::current_path()) + '/';
```

3. Открываем папку MyProject в терминале
4. Компилируем наш проект с помощью CMAKE

```
cmake -S . -B build
```

5. Собираем наш проект

```
cmake --build build
```

6. Запускаем

```
../build/MyProject
```

7. Запускаем наш проект и следуем инструкциям
8. Получаем результат в папке Results/ВыбранныйМетодГенарации/

---

## TestRandom

Тестирует написанную функцию генерации случайных чисел и выводит полученные числа в файл (выводятся значения для случайно выбранного пикселя) для дальнейшего построения графика. В этом проекте изначально тестировались все функции генерации случайных чисел.

---

## MakeScatterForPixel 

Скрипт на Python для отрисовки графика распределения точек для случайных пикселей, полученных в TestRandom

Результаты можно увидеть в папке [Results/](https://github.com/Kaparya/PathTracing/tree/main/MakeScatterForPixel/Results). Пример: 

<p align="center">
  <img src="https://github.com/Kaparya/PathTracing/assets/124422354/a1f1d2b6-91c5-481f-be61-3b9bc83b21b3">
</p>

---

## Coursework.pdf 

Это текст курсовой работы

## Presentation.pdf 

Презентация для защиты курсовой работы
